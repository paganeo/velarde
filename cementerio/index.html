<!DOCTYPE html><html lang="es"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Cementerio de Granada: A Beautiful and Historic Resting Place in Nicaragua - Velarde</title><meta name="description" content="Cementerio"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://velarde.ws/cementerio/"><link rel="amphtml" href="https://velarde.ws/amp/cementerio/"><link rel="alternate" type="application/atom+xml" href="https://velarde.ws/feed.xml"><link rel="alternate" type="application/json" href="https://velarde.ws/feed.json"><meta property="og:title" content="Cementerio de Granada: A Beautiful and Historic Resting Place in Nicaragua"><meta property="og:image" content="https://velarde.ws/media/posts/7/Cementerio-2.jpg"><meta property="og:image:width" content="1024"><meta property="og:image:height" content="718"><meta property="og:site_name" content="Velarde"><meta property="og:description" content="Cementerio"><meta property="og:url" content="https://velarde.ws/cementerio/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@paganeo"><meta name="twitter:title" content="Cementerio de Granada: A Beautiful and Historic Resting Place in Nicaragua"><meta name="twitter:description" content="Cementerio"><meta name="twitter:image" content="https://velarde.ws/media/posts/7/Cementerio-2.jpg"><link rel="preload" href="https://velarde.ws/assets/dynamic/fonts/bitter/bitter.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://velarde.ws/assets/dynamic/fonts/andadapro/andadapro.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://velarde.ws/assets/css/style.css?v=41554b0f13f030c033c8773a170226cb"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://velarde.ws/cementerio/"},"headline":"Cementerio de Granada: A Beautiful and Historic Resting Place in Nicaragua","datePublished":"2022-05-31T10:27","dateModified":"2023-03-27T13:31","image":{"@type":"ImageObject","url":"https://velarde.ws/media/posts/7/Cementerio-2.jpg","height":718,"width":1024},"description":"Cementerio","author":{"@type":"Person","name":"Fernando Velarde","url":"https://velarde.ws/authors/fernando-velarde/"},"publisher":{"@type":"Organization","name":"Fernando Velarde"}}</script></head><body><div class="container"><header class="header" id="js-header"><a href="https://velarde.ws/" class="logo">Velarde</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://velarde.ws/" target="_self">Home</a></li><li><a href="https://velarde.ws/contact/" target="_self">Contact</a></li></ul></nav></header><main><article class="post wrapper"><header class="hero"><h1 class="post__title">Cementerio de Granada: A Beautiful and Historic Resting Place in Nicaragua</h1></header><figure class="post__featured-image post__image--wide"><img src="https://velarde.ws/media/posts/7/Cementerio-2.jpg" srcset="https://velarde.ws/media/posts/7/responsive/Cementerio-2-xs.webp 300w, https://velarde.ws/media/posts/7/responsive/Cementerio-2-sm.webp 480w, https://velarde.ws/media/posts/7/responsive/Cementerio-2-md.webp 768w, https://velarde.ws/media/posts/7/responsive/Cementerio-2-lg.webp 1024w, https://velarde.ws/media/posts/7/responsive/Cementerio-2-xl.webp 1360w, https://velarde.ws/media/posts/7/responsive/Cementerio-2-2xl.webp 1600w, https://velarde.ws/media/posts/7/responsive/Cementerio-2-sm2.webp 375w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="718" width="1024" alt="Cementerio"><figcaption>Cementerio</figcaption></figure><div class="post__entry"><div class="group w-full text-gray-800 dark:text-gray-100 border-b border-black/10 dark:border-gray-900/50 bg-gray-50 dark:bg-[#444654]"><div class="text-base gap-4 md:gap-6 md:max-w-2xl lg:max-w-2xl xl:max-w-3xl p-4 md:py-6 flex lg:px-0 m-auto"><div class="relative flex w-[calc(100%-50px)] flex-col gap-1 md:gap-3 lg:w-[calc(100%-115px)]"><div class="flex flex-grow flex-col gap-3"><div class="min-h-[20px] flex flex-col items-start gap-4 whitespace-pre-wrap"><div class="markdown prose w-full break-words dark:prose-invert dark"><p><strong>Cementerio de Granada</strong> is a historic cemetery located in the city of Granada, Spain. This cemetery was established in 1805 and has since become an important cultural and historical landmark in the region. The cemetery is known for its beautiful architecture, impressive monuments, and for being the final resting place of some of Spain's most famous figures.</p><p>The cemetery covers an area of over 42,000 square meters and is divided into different sections based on religion and social class. One of the most striking</p></div></div></div></div></div></div><div class="group w-full text-gray-800 dark:text-gray-100 border-b border-black/10 dark:border-gray-900/50 bg-gray-50 dark:bg-[#444654]"><div class="text-base gap-4 md:gap-6 md:max-w-2xl lg:max-w-2xl xl:max-w-3xl p-4 md:py-6 flex lg:px-0 m-auto"><div class="w-[30px] flex flex-col relative items-end"><div class="relative h-[30px] w-[30px] p-1 rounded-sm text-white flex items-center justify-center"> </div></div><div class="relative flex w-[calc(100%-50px)] flex-col gap-1 md:gap-3 lg:w-[calc(100%-115px)]"><div class="flex flex-grow flex-col gap-3"><div class="min-h-[20px] flex flex-col items-start gap-4 whitespace-pre-wrap"><div class="markdown prose w-full break-words dark:prose-invert dark"><p><strong>Cementerio de Granada</strong> is a historic cemetery located in the city of Granada, Nicaragua. Established in the 19th century, the cemetery is one of the oldest and most important cultural landmarks in Nicaragua. The cemetery is known for its beautiful architecture, impressive monuments, and for being the final resting place of some of Nicaragua's most famous figures.</p><h2>History of Cementerio de Granada</h2><p>Cementerio de Granada was established in 1872 after a devastating cholera epidemic swept through the city of Granada. The epidemic claimed the lives of over 2000 people, and the existing cemeteries in the city quickly became overcrowded. The government of Nicaragua decided to establish a new cemetery to accommodate the growing number of bodies, and Cementerio de Granada was born.</p><p>The cemetery was designed by the French architect Jean Ramponneau, who was also responsible for designing some of the most iconic buildings in Granada, including the Cathedral of Granada. Ramponneau's design for the cemetery was inspired by the Père Lachaise Cemetery in Paris, and he incorporated elements of French and Spanish architecture into his design.</p><h2>Architecture and Monuments</h2><p>One of the most striking features of Cementerio de Granada is its beautiful architecture. The cemetery is home to a wide variety of mausoleums, tombs, and monuments, each one more impressive than the last. Many of these monuments are works of art in their own right, featuring intricate carvings and beautiful designs.</p><p>One of the most famous monuments in Cementerio de Granada is the mausoleum of the Somoza family. The Somoza family was one of the most powerful political families in Nicaragua during the 20th century, and their mausoleum is a testament to their wealth and influence. The mausoleum features a large statue of Anastasio Somoza Garcia, the former President of Nicaragua, and is adorned with marble columns and intricate carvings.</p><p>Another notable monument in the cemetery is the tomb of Rubén Darío, one of Nicaragua's most famous poets. Darío is considered one of the fathers of modernismo, a literary movement that originated in Latin America in the late 19th century. His tomb is a beautiful marble structure that is decorated with floral motifs and features a statue of Darío himself.</p><p>Other famous Nicaraguans who are buried in Cementerio de Granada include the writer Salomón de la Selva, the artist Armando Morales, and the revolutionary leader Carlos Fonseca.</p><h2>Visiting Cementerio de Granada</h2><p>Cementerio de Granada is open to visitors every day, and it is a popular destination for tourists and locals alike. Visitors can take a guided tour of the cemetery to learn more about its history and the famous figures who are buried there. The cemetery is also a popular spot for photographers, who come to capture the beauty of the monuments and the serene atmosphere of the cemetery.</p><p>One of the best times to visit Cementerio de Granada is during Dia de los Muertos, or Day of the Dead, which is celebrated in Nicaragua on November 2nd. During this holiday, families gather at the cemetery to honor their loved ones who have passed away. They decorate the graves with flowers, candles, and other offerings, and they spend the day remembering and celebrating the lives of their loved ones.</p><p>Cementerio de Granada is a beautiful and historic cemetery that is an important part of Nicaragua's cultural heritage. Its impressive architecture and monuments make it a must-see destination for anyone visiting Granada, and its serene atmosphere makes it a peaceful and reflective place for locals and visitors alike. Whether you are interested in history, art, or simply want to pay your respects to <span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">the deceased, Cementerio de Granada is a fascinating and beautiful place to visit.</span></p></div></div></div></div></div></div><div class="group w-full text-gray-800 dark:text-gray-100 border-b border-black/10 dark:border-gray-900/50 bg-gray-50 dark:bg-[#444654]"><div class="text-base gap-4 md:gap-6 md:max-w-2xl lg:max-w-2xl xl:max-w-3xl p-4 md:py-6 flex lg:px-0 m-auto"><div class="relative flex w-[calc(100%-50px)] flex-col gap-1 md:gap-3 lg:w-[calc(100%-115px)]"><div class="flex flex-grow flex-col gap-3"><div class="min-h-[20px] flex flex-col items-start gap-4 whitespace-pre-wrap"><div class="markdown prose w-full break-words dark:prose-invert dark"><p>In addition to its historical and cultural significance, Cementerio de Granada is also an important part of the local community. Many families have loved ones buried in the cemetery, and they visit regularly to pay their respects and maintain their gravesites. The cemetery is also an important part of the city's tourism industry, and it provides jobs and economic opportunities for many people in the community.</p><p>However, like many cemeteries around the world, Cementerio de Granada has faced challenges in recent years. The cemetery has become overcrowded, and there is a shortage of space for new graves. The cemetery is also facing financial difficulties, and there is a lack of funding for maintenance and repairs.</p><p>Despite these challenges, Cementerio de Granada remains an important part of Nicaragua's cultural heritage. The cemetery is a testament to the country's rich history and the contributions of its most famous figures. It is a place of beauty and reflection, where visitors can pay their respects to the deceased and learn more about Nicaragua's past and present.</p><p>In conclusion, <strong>Cementerio de Granada</strong> is a historic and culturally significant cemetery that is an important part of Nicaragua's heritage. Its beautiful architecture and impressive monuments make it a must-see destination for anyone visiting Granada, and its peaceful atmosphere provides a place for reflection and remembrance. While the cemetery faces challenges, it remains an important part of the local community and a vital part of Nicaragua's cultural landscape.</p></div></div></div></div></div></div></div><footer class="post__footer"><div class="post__footer__col"><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fvelarde.ws%2Fcementerio%2F" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://velarde.ws/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fvelarde.ws%2Fcementerio%2F&amp;via=Velarde&amp;text=Cementerio%20de%20Granada%3A%20A%20Beautiful%20and%20Historic%20Resting%20Place%20in%20Nicaragua" class="js-share twitter" aria-label="Share with Twitter" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://velarde.ws/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fvelarde.ws%2Fcementerio%2F&amp;media=https%3A%2F%2Fvelarde.ws%2Fmedia%2Fposts%2F7%2FCementerio-2.jpg&amp;description=Cementerio%20de%20Granada%3A%20A%20Beautiful%20and%20Historic%20Resting%20Place%20in%20Nicaragua" class="js-share pinterest" aria-label="[MISSING TRANSLATION] Share with Pinterest" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://velarde.ws/assets/svg/svg-map.svg#pinterest"/></svg> </a><a href="https://api.whatsapp.com/send?text=Cementerio%20de%20Granada%3A%20A%20Beautiful%20and%20Historic%20Resting%20Place%20in%20Nicaragua https%3A%2F%2Fvelarde.ws%2Fcementerio%2F" class="js-share whatsapp" aria-label="Share with Whats App" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://velarde.ws/assets/svg/svg-map.svg#whatsapp"/></svg></a></div></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://velarde.ws/catedral-de-granada-nicaragua/" class="inverse" rel="prev">Catedral de Granada: A Resilient Icon of Nicaragua&#x27;s Rich Colonial Heritage</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://velarde.ws/cielo/" class="inverse" rel="next">Painted Skies: The Breathtaking Beauty of a Sunset Viewed from a Plane</a></h5></div></nav><div class="post__related"><h3 class="u-h5">Related posts</h3><div class="post__related__wrap"><figure><a href="https://velarde.ws/velero-en-lago-cocibolca-nicaragua/"><img src="https://velarde.ws/media/posts/23/responsive/Velero-en-Lago-Cocibolca-2-xs.webp" loading="lazy" alt="Velero en Lago Cocibolca, Nicaragua"></a><figcaption><h4><a href="https://velarde.ws/velero-en-lago-cocibolca-nicaragua/" class="inverse">Velero en Lago Cocibolca, Nicaragua</a></h4><time datetime="2022-05-31T10:32">mayo 31, 2022</time></figcaption></figure><figure><a href="https://velarde.ws/pescadores-en-isla-de-ometepe-nicaragua/"><img src="https://velarde.ws/media/posts/20/responsive/Pescadores-en-Ometepe-2-xs.webp" loading="lazy" alt="Pescadores en Isla de Ometepe, Nicaragua"></a><figcaption><h4><a href="https://velarde.ws/pescadores-en-isla-de-ometepe-nicaragua/" class="inverse">Pescadores en Isla de Ometepe, Nicaragua</a></h4><time datetime="2022-05-31T10:31">mayo 31, 2022</time></figcaption></figure><figure><a href="https://velarde.ws/calle-de-granada-nicaragua/"><img src="https://velarde.ws/media/posts/13/responsive/Granada-Nicaragua-Calle-2-xs.webp" loading="lazy" alt="Calle de Granada, Nicaragua"></a><figcaption><h4><a href="https://velarde.ws/calle-de-granada-nicaragua/" class="inverse">Tracing the Footsteps of History: Exploring the Streets of Granada, Nicaragua</a></h4><time datetime="2022-05-31T10:29">mayo 31, 2022</time></figcaption></figure><figure><a href="https://velarde.ws/granada-nicaragua/"><img src="https://velarde.ws/media/posts/12/responsive/Granada-Nicaragua-2-xs.webp" loading="lazy" alt="Granada, Nicaragua"></a><figcaption><h4><a href="https://velarde.ws/granada-nicaragua/" class="inverse">Granada, Nicaragua: A Jewel of Colonial Architecture, Culture, and Natural Beauty</a></h4><time datetime="2022-05-31T10:28">mayo 31, 2022</time></figcaption></figure></div></div></footer></article></main><footer class="footer"><div class="footer__copyright">© 2022 velarde.ws</div></footer></div><script defer="defer" src="https://velarde.ws/assets/js/scripts.min.js?v=b1f07db09e44ca999e985e714f8eba4e"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.navbar'};</script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5TH8T5MB52"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5TH8T5MB52');</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality.</div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Save</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.</div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Required</label></div></li><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Functionality</summary></details><div class="pcb__popup__switch"><input type="checkbox" data-group-name="functions" id="functions-cookies"> <label for="functions-cookies">Functionality</label></div></li><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Analytical</summary></details><div class="pcb__popup__switch"><input type="checkbox" data-group-name="analytics" id="analytics-cookies"> <label for="analytics-cookies">Analytical</label></div></li><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Marketing</summary></details><div class="pcb__popup__switch"><input type="checkbox" data-group-name="marketing" id="marketing-cookies"> <label for="marketing-cookies">Marketing</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>